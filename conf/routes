# Routes
# This file defines all WeiqiTV routes (Higher priority routes first)
# ~~~~

# Home page
GET     /                                       WeiqiTV.index
GET     /watch/{number}                         WeiqiTV.watch
GET     /search/{query}                         WeiqiTV.search
GET     /games                                  WeiqiTV.games

# JS channel interaction
GET     /listTurns/{id}                         WeiqiTV.listTurns
WS      /socket                                 ChannelSocket.stream

# Admin tasks
GET     /start                                  Admin.start
GET     /stop                                   Admin.stop
GET     /restart                                Admin.restart
GET     /observe/{id}                           Admin.observe

# Ignore favicon requests
GET     /favicon.ico                            404

# Map static resources from the /app/public folder to the /public path
GET     /public/                                staticDir:public

# Import CRUD routes
*       /admin                                  module:crud

# Import messages analyser
*       /                                       module:messages

# Import Secure routes
*       /                                       module:secure

# Use log4play
WS      /logstream                              Log4Play.WebSocket.index
GET     /@logs                                  Log4Play.index
GET     /public_log4play/                       staticDir:public_log4play

# Catch all
*       /{controller}/{action}                  {controller}.{action}
