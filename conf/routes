# Routes
# This file defines all WeiqiTV routes (Higher priority routes first)
# ~~~~

# Home page
GET     /                                       WeiqiTV.index
GET     /watch/{number}                         WeiqiTV.watch
GET     /search/{query}                         WeiqiTV.search

# JS channel interaction
GET     /listTurns                              WeiqiTV.listTurns
WS      /socket                                 ChannelSocket.stream

# Admin tasks
GET     /admin                                  Admin.index
GET     /games                                  Admin.games
GET     /start                                  Admin.start
GET     /stop                                   Admin.stop
GET     /reset                                  Admin.reset
GET     /observe                                Admin.observe
GET     /next                                   Admin.next
GET     /broadcast                              Admin.broadcast

# Ignore favicon requests
GET     /favicon.ico                            404

# Map static resources from the /app/public folder to the /public path
GET     /public/                                staticDir:public

# Import CRUD routes
*       /crud                                   module:crud

# Import messages analyser
*       /                                       module:messages

# Import Secure routes
*       /                                       module:secure

# Use log4play
WS      /logstream                              Log4Play.WebSocket.index
GET     /@logs                                  Log4Play.index
GET     /public_log4play/                       staticDir:public_log4play

# Catch all
*       /{controller}/{action}                  {controller}.{action}
